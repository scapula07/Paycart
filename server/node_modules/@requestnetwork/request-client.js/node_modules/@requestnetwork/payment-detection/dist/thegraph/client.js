"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.defaultGetTheGraphClient = exports.getTheGraphNearClient = exports.getTheGraphClient = void 0;
const currency_1 = require("@requestnetwork/currency");
const graphql_request_1 = require("graphql-request");
const graphql_1 = require("./generated/graphql");
const graphql_near_1 = require("./generated/graphql-near");
const HOSTED_THE_GRAPH_URL = 'https://api.thegraph.com/subgraphs/name/requestnetwork/request-payments-';
const getTheGraphClient = (url, options) => (0, graphql_1.getSdk)(new graphql_request_1.GraphQLClient(url, options));
exports.getTheGraphClient = getTheGraphClient;
const getTheGraphNearClient = (url, options) => (0, graphql_near_1.getSdk)(new graphql_request_1.GraphQLClient(url, options));
exports.getTheGraphNearClient = getTheGraphNearClient;
const defaultGetTheGraphClient = (network) => {
    return network === 'private'
        ? undefined
        : currency_1.NearChains.isChainSupported(network)
            ? (0, exports.getTheGraphNearClient)(`${HOSTED_THE_GRAPH_URL}${network.replace('aurora', 'near')}`)
            : (0, exports.getTheGraphClient)(`${HOSTED_THE_GRAPH_URL}${network}`);
};
exports.defaultGetTheGraphClient = defaultGetTheGraphClient;
//# sourceMappingURL=client.js.map